<% content_for(:title) { "#{@command_run.command} - Page Migration" } %>

<% content_for :head do %>
  <style>
    .highlight { background: #1e1e2e; color: #cdd6f4; }
    .highlight .w { color: #cdd6f4 }
    .highlight .p { color: #89b4fa }
    .highlight .s, .highlight .s1, .highlight .s2 { color: #a6e3a1 }
    .highlight .na, .highlight .nt, .highlight .nl { color: #f9e2af }
    .highlight .mi, .highlight .mf, .highlight .mh, .highlight .mo, .highlight .l { color: #fab387 }
    .highlight .k, .highlight .kc, .highlight .kd, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt { color: #cba6f7 }
    .highlight .c, .highlight .c1, .highlight .cm { color: #6c7086 }
    .highlight .n { color: #cdd6f4 }
    .highlight .nb { color: #89dceb }
    .highlight .nc, .highlight .nn { color: #f9e2af }
    .highlight .nd, .highlight .nf { color: #89b4fa }
    .highlight .no { color: #fab387 }
    .highlight .nv { color: #cdd6f4 }
    .highlight .o { color: #89b4fa }
    .highlight .ow { color: #cba6f7 }
    .highlight .sb, .highlight .sc, .highlight .sh, .highlight .sx, .highlight .ss { color: #a6e3a1 }
    .highlight .sd { color: #6c7086 }
    .highlight .se, .highlight .si { color: #f2cdcd }
    .highlight .sr { color: #f5c2e7 }
    /* Prose styles for Markdown rendering */
    .prose { color: #333; line-height: 1.6; }
    .prose h1 { font-size: 1.75rem; font-weight: 700; margin: 1.5rem 0 1rem; border-bottom: 1px solid #ddd; padding-bottom: 0.5rem; }
    .prose h2 { font-size: 1.5rem; font-weight: 600; margin: 1.25rem 0 0.75rem; border-bottom: 1px solid #eee; padding-bottom: 0.25rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin: 1rem 0 0.5rem; }
    .prose h4 { font-size: 1.1rem; font-weight: 600; margin: 0.75rem 0 0.5rem; }
    .prose p { margin: 0.75rem 0; }
    .prose ul, .prose ol { margin: 0.75rem 0; padding-left: 1.5rem; }
    .prose ul { list-style-type: disc; }
    .prose ol { list-style-type: decimal; }
    .prose li { margin: 0.25rem 0; }
    .prose a { color: #FFCD00; text-decoration: underline; }
    .prose a:hover { color: #000; }
    .prose code { background: #f5f5f5; padding: 0.15rem 0.3rem; border-radius: 0.25rem; font-size: 0.9em; }
    .prose pre { background: #1e1e2e; color: #cdd6f4; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin: 1rem 0; }
    .prose pre code { background: none; padding: 0; }
    .prose blockquote { border-left: 4px solid #FFCD00; padding-left: 1rem; margin: 1rem 0; color: #666; font-style: italic; }
    .prose table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    .prose th, .prose td { border: 1px solid #ddd; padding: 0.5rem; text-align: left; }
    .prose th { background: #f5f5f5; font-weight: 600; }
    .prose hr { border: none; border-top: 1px solid #ddd; margin: 1.5rem 0; }
    .prose img { max-width: 100%; height: auto; border-radius: 0.5rem; }
  </style>
<% end %>

<%= turbo_stream_from "command_run_#{@command_run.id}" %>

<div class="space-y-6">
  <nav class="text-sm text-wttj-gray-dark">
    <%= link_to "Commands", commands_path, class: "hover:text-wttj-black" %> /
    <span class="text-wttj-black">#<%= @command_run.id %></span>
  </nav>

  <div id="command_run_<%= @command_run.id %>">
    <%= render partial: "commands/command_run", locals: { command_run: @command_run } %>
  </div>
</div>
